import{S as e,i as t,s,e as l,c as a,a as c,d as r,b as n,g as o,B as i,C as h,h as f,D as d,M as p,j as u,l as m,L as g,f as v,N as $,m as b,t as _,p as w,q as x,R as E,K as k,v as j,H as S,T,Q as D,a0 as A,u as I,a1 as V}from"./index.502c1ca4.js";import"./index.1637ca2d.js";import{g as q}from"./app.5d951216.js";import{b as N}from"./index.5bd105b7.js";import{R as O}from"./Repl.50b672fa.js";import{s as y,r as R,m as M,S as P}from"./config.fa69d33f.js";function U(e,t,s){const l=Object.create(e);return l.chapter=t[s],l.i=s,l}function z(e,t,s){const l=Object.create(e);return l.section=t[s],l.i=s,l}function C(e){var t,s,n,p,u,m=String.fromCharCode(e.i+97)+"",g=e.chapter.title+"";return{c(){t=l("option"),s=i(m),n=i(". "),p=i(g),this.h()},l(e){t=a(e,"OPTION",{value:!0},!1);var l=c(t);s=h(l,m),n=h(l,". "),p=h(l,g),l.forEach(r),this.h()},h(){t.__value=u=e.chapter.slug,t.value=t.__value},m(e,l){o(e,t,l),f(t,s),f(t,n),f(t,p)},p(e,s){e.sections&&g!==(g=s.chapter.title+"")&&d(p,g),e.sections&&u!==(u=s.chapter.slug)&&(t.__value=u),t.value=t.__value},d(e){e&&r(t)}}}function B(e){var t,s;let i=e.section.chapters,h=[];for(let t=0;t<i.length;t+=1)h[t]=C(U(e,i,t));return{c(){t=l("optgroup");for(let e=0;e<h.length;e+=1)h[e].c();this.h()},l(e){t=a(e,"OPTGROUP",{label:!0},!1);var s=c(t);for(let e=0;e<h.length;e+=1)h[e].l(s);s.forEach(r),this.h()},h(){n(t,"label",s=e.i+1+". "+e.section.title)},m(e,s){o(e,t,s);for(let e=0;e<h.length;e+=1)h[e].m(t,null)},p(e,l){if(e.sections){let s;for(i=l.section.chapters,s=0;s<i.length;s+=1){const a=U(l,i,s);h[s]?h[s].p(e,a):(h[s]=C(a),h[s].c(),h[s].m(t,null))}for(;s<h.length;s+=1)h[s].d(1);h.length=i.length}e.sections&&s!==(s=l.i+1+". "+l.section.title)&&n(t,"label",s)},d(e){e&&r(t),p(h,e)}}}function G(e){var t,s,E,k,j,S,T,D,A,I,V,q,O,y,R,M,P,U,C,G,W,H=e.selected.section.title+"",J=e.selected.chapter.title+"",K=new N({props:{name:"arrow-left"}}),Q=new N({props:{name:"menu"}});let F=e.sections,X=[];for(let t=0;t<F.length;t+=1)X[t]=B(z(e,F,t));var Y=new N({props:{name:"arrow-right"}});return{c(){t=l("nav"),s=l("a"),K.$$.fragment.c(),k=u(),j=l("div"),S=l("span"),T=l("strong"),D=l("span"),Q.$$.fragment.c(),A=u(),I=i(H),V=i(" /"),q=u(),O=i(J),y=u(),R=l("select");for(let e=0;e<X.length;e+=1)X[e].c();P=u(),U=l("a"),Y.$$.fragment.c(),this.h()},l(e){t=a(e,"NAV",{class:!0},!1);var l=c(t);s=a(l,"A",{rel:!0,class:!0,href:!0},!1);var n=c(s);K.$$.fragment.l(n),n.forEach(r),k=m(l),j=a(l,"DIV",{class:!0},!1);var o=c(j);S=a(o,"SPAN",{class:!0},!1);var i=c(S);T=a(i,"STRONG",{class:!0},!1);var f=c(T);D=a(f,"SPAN",{style:!0,class:!0},!1);var d=c(D);Q.$$.fragment.l(d),d.forEach(r),A=m(f),I=h(f,H),V=h(f," /"),f.forEach(r),q=m(i),O=h(i,J),i.forEach(r),y=m(o),R=a(o,"SELECT",{value:!0,class:!0},!1);var p=c(R);for(let e=0;e<X.length;e+=1)X[e].l(p);p.forEach(r),o.forEach(r),P=m(l),U=a(l,"A",{rel:!0,class:!0,href:!0},!1);var u=c(U);Y.$$.fragment.l(u),u.forEach(r),l.forEach(r),this.h()},h(){n(s,"rel","prefetch"),n(s,"class","no-underline svelte-ob1q54"),n(s,"href",E="tutorial/"+(e.selected.prev||e.selected).slug),g(s,"disabled",!e.selected.prev),v(D,"position","relative"),v(D,"top","-0.1em"),v(D,"margin","0 0.5em 0 0"),n(D,"class","svelte-ob1q54"),n(T,"class","svelte-ob1q54"),n(S,"class","svelte-ob1q54"),n(R,"class","svelte-ob1q54"),n(j,"class","svelte-ob1q54"),n(U,"rel","prefetch"),n(U,"class","no-underline svelte-ob1q54"),n(U,"href",C="tutorial/"+(e.selected.next||e.selected).slug),g(U,"disabled",!e.selected.next),n(t,"class","svelte-ob1q54"),W=$(R,"change",L)},m(l,a){o(l,t,a),f(t,s),b(K,s,null),f(t,k),f(t,j),f(j,S),f(S,T),f(T,D),b(Q,D,null),f(T,A),f(T,I),f(T,V),f(S,q),f(S,O),f(j,y),f(j,R);for(let e=0;e<X.length;e+=1)X[e].m(R,null);M=e.slug;for(var c=0;c<R.options.length;c+=1){var r=R.options[c];if(r.__value===M){r.selected=!0;break}}f(t,P),f(t,U),b(Y,U,null),G=!0},p(e,t){if(G&&!e.selected||E===(E="tutorial/"+(t.selected.prev||t.selected).slug)||n(s,"href",E),e.selected&&g(s,"disabled",!t.selected.prev),G&&!e.selected||H===(H=t.selected.section.title+"")||d(I,H),G&&!e.selected||J===(J=t.selected.chapter.title+"")||d(O,J),e.sections){let s;for(F=t.sections,s=0;s<F.length;s+=1){const l=z(t,F,s);X[s]?X[s].p(e,l):(X[s]=B(l),X[s].c(),X[s].m(R,null))}for(;s<X.length;s+=1)X[s].d(1);X.length=F.length}if((!G||e.slug)&&M!==(M=t.slug))for(var l=0;l<R.options.length;l+=1){var a=R.options[l];if(a.__value===M){a.selected=!0;break}}G&&!e.selected||C===(C="tutorial/"+(t.selected.next||t.selected).slug)||n(U,"href",C),e.selected&&g(U,"disabled",!t.selected.next)},i(e){G||(_(K.$$.fragment,e),_(Q.$$.fragment,e),_(Y.$$.fragment,e),G=!0)},o(e){w(K.$$.fragment,e),w(Q.$$.fragment,e),w(Y.$$.fragment,e),G=!1},d(e){e&&r(t),x(K),x(Q),p(X,e),x(Y),W()}}}function L(e){q(`tutorial/${e.target.value}`)}function W(e,t,s){let{sections:l,slug:a,selected:c}=t;return e.$set=e=>{"sections"in e&&s("sections",l=e.sections),"slug"in e&&s("slug",a=e.slug),"selected"in e&&s("selected",c=e.selected)},{sections:l,slug:a,selected:c}}class H extends e{constructor(e){super(),t(this,e,W,G,s,["sections","slug","selected"])}}const{window:J}=T;function K(e){var t,s,p,u=e.completed?"Reset":"Show me";return{c(){t=l("button"),s=i(u),this.h()},l(e){t=a(e,"BUTTON",{class:!0},!1);var l=c(t);s=h(l,u),l.forEach(r),this.h()},h(){n(t,"class","show svelte-ie4axf"),p=$(t,"click",e.click_handler)},m(e,l){o(e,t,l),f(t,s)},p(e,t){e.completed&&u!==(u=t.completed?"Reset":"Show me")&&d(s,u)},d(e){e&&r(t),p()}}}function Q(e){var t,s,d;return{c(){t=l("a"),s=i("Next"),this.h()},l(e){t=a(e,"A",{class:!0,href:!0},!1);var l=c(t);s=h(l,"Next"),l.forEach(r),this.h()},h(){n(t,"class","next svelte-ie4axf"),n(t,"href",d="tutorial/"+e.selected.next.slug)},m(e,l){o(e,t,l),f(t,s)},p(e,s){e.selected&&d!==(d="tutorial/"+s.selected.next.slug)&&n(t,"href",d)},d(e){e&&r(t)}}}function F(e){var t,s;function l(s){e.screentoggle_offset_binding.call(null,s),t=!0,V(()=>t=!1)}let a={labels:["tutorial","input","output"]};void 0!==e.offset&&(a.offset=e.offset);var c=new P({props:a});return D.push(()=>A(c,"offset",l)),{c(){c.$$.fragment.c()},l(e){c.$$.fragment.l(e)},m(e,t){b(c,e,t),s=!0},p(e,s){var l={};!t&&e.offset&&(l.offset=s.offset),c.$set(l)},i(e){s||(_(c.$$.fragment,e),s=!0)},o(e){w(c.$$.fragment,e),s=!1},d(e){x(c,e)}}}function X(e){var t,s,d,p,g,v,S,T,D,A,V,q,N,P,U,z,C,B,G,L,W,X,Y,Z,ee,te,se,le=e.chapter.html+"";E(e.onwindowresize),document.title=t=e.selected.section.title+" / "+e.selected.chapter.title+" • Svelte Tutorial";var ae=new H({props:{sections:e.sections,slug:e.slug,selected:e.selected}}),ce=e.chapter.app_b&&K(e),re=e.selected.next&&Q(e);let ne={workersUrl:"workers",svelteUrl:y,rollupUrl:R,orientation:e.mobile?"columns":"rows",fixed:e.mobile,injectedJS:M,relaxed:!0};var oe=new O({props:ne});e.repl_1_binding(oe),oe.$on("change",e.handle_change);var ie=e.mobile&&F(e);return{c(){s=l("meta"),d=l("meta"),g=l("meta"),S=u(),T=l("div"),D=l("div"),A=l("div"),V=l("div"),ae.$$.fragment.c(),q=u(),N=l("div"),U=u(),z=l("div"),ce&&ce.c(),C=u(),re&&re.c(),B=u(),G=l("div"),L=l("a"),W=i("Edit this chapter"),X=u(),Y=l("div"),oe.$$.fragment.c(),ee=u(),ie&&ie.c(),this.h()},l(e){s=a(e,"META",{name:!0,content:!0},!1),c(s).forEach(r),d=a(e,"META",{name:!0,content:!0},!1),c(d).forEach(r),g=a(e,"META",{name:!0,content:!0},!1),c(g).forEach(r),S=m(e),T=a(e,"DIV",{class:!0},!1);var t=c(T);D=a(t,"DIV",{class:!0},!1);var l=c(D);A=a(l,"DIV",{class:!0},!1);var n=c(A);V=a(n,"DIV",{class:!0},!1);var o=c(V);ae.$$.fragment.l(o),o.forEach(r),q=m(n),N=a(n,"DIV",{class:!0},!1);var i=c(N);U=m(i),z=a(i,"DIV",{class:!0},!1);var f=c(z);ce&&ce.l(f),C=m(f),re&&re.l(f),f.forEach(r),B=m(i),G=a(i,"DIV",{class:!0},!1);var p=c(G);L=a(p,"A",{class:!0,href:!0},!1);var u=c(L);W=h(u,"Edit this chapter"),u.forEach(r),p.forEach(r),i.forEach(r),n.forEach(r),X=m(l),Y=a(l,"DIV",{class:!0},!1);var v=c(Y);oe.$$.fragment.l(v),v.forEach(r),l.forEach(r),ee=m(t),ie&&ie.l(t),t.forEach(r),this.h()},h(){n(s,"name","twitter:title"),n(s,"content","Svelte tutorial"),n(d,"name","twitter:description"),n(d,"content",p=e.selected.section.title+" / "+e.selected.chapter.title),n(g,"name","Description"),n(g,"content",v=e.selected.section.title+" / "+e.selected.chapter.title),n(V,"class","table-of-contents"),P=new k(le,U),n(z,"class","controls svelte-ie4axf"),n(L,"class","no-underline svelte-ie4axf"),n(L,"href",e.improve_link),n(G,"class","improve-chapter svelte-ie4axf"),n(N,"class","chapter-markup svelte-ie4axf"),n(A,"class","tutorial-text svelte-ie4axf"),n(Y,"class","tutorial-repl"),n(D,"class",Z="viewport offset-"+e.offset+" svelte-ie4axf"),n(T,"class","tutorial-outer svelte-ie4axf"),se=$(J,"resize",e.onwindowresize)},m(t,l){f(document.head,s),f(document.head,d),f(document.head,g),o(t,S,l),o(t,T,l),f(T,D),f(D,A),f(A,V),b(ae,V,null),f(A,q),f(A,N),P.m(N),f(N,U),f(N,z),ce&&ce.m(z,null),f(z,C),re&&re.m(z,null),f(N,B),f(N,G),f(G,L),f(L,W),e.div3_binding(N),f(D,X),f(D,Y),b(oe,Y,null),f(T,ee),ie&&ie.m(T,null),te=!0},p(e,s){te&&!e.selected||t===(t=s.selected.section.title+" / "+s.selected.chapter.title+" • Svelte Tutorial")||(document.title=t),te&&!e.selected||p===(p=s.selected.section.title+" / "+s.selected.chapter.title)||n(d,"content",p),te&&!e.selected||v===(v=s.selected.section.title+" / "+s.selected.chapter.title)||n(g,"content",v);var l={};e.slug&&(l.slug=s.slug),e.selected&&(l.selected=s.selected),ae.$set(l),te&&!e.chapter||le===(le=s.chapter.html+"")||P.p(le),s.chapter.app_b?ce?ce.p(e,s):((ce=K(s)).c(),ce.m(z,C)):ce&&(ce.d(1),ce=null),s.selected.next?re?re.p(e,s):((re=Q(s)).c(),re.m(z,null)):re&&(re.d(1),re=null),te&&!e.improve_link||n(L,"href",s.improve_link);var a={};e.mobile&&(a.orientation=s.mobile?"columns":"rows"),e.mobile&&(a.fixed=s.mobile),oe.$set(a),te&&!e.offset||Z===(Z="viewport offset-"+s.offset+" svelte-ie4axf")||n(D,"class",Z),s.mobile?ie?(ie.p(e,s),_(ie,1)):((ie=F(s)).c(),_(ie,1),ie.m(T,null)):ie&&(I(),w(ie,1,1,()=>{ie=null}),j())},i(e){te||(_(ae.$$.fragment,e),_(oe.$$.fragment,e),_(ie),te=!0)},o(e){w(ae.$$.fragment,e),w(oe.$$.fragment,e),w(ie),te=!1},d(t){r(s),r(d),r(g),t&&(r(S),r(T)),x(ae),ce&&ce.d(),re&&re.d(),e.div3_binding(null),e.repl_1_binding(null),x(oe),ie&&ie.d(),se()}}}async function Y({params:e}){const t=await this.fetch(`tutorial/${e.slug}.json`);return t.ok?{slug:e.slug,chapter:await t.json()}:this.redirect(301,"tutorial/basics")}const Z="https://github.com/sveltejs/svelte/tree/master/site/content/tutorial";function ee(e,t,s){let{slug:l,chapter:a}=t;const{sections:c}=S("tutorial");let r,n,o;const i=new Map;let h=window.innerWidth,f=0;c.forEach(e=>{e.chapters.forEach(t=>{const s={slug:t.slug,section:e,chapter:t,prev:n};i.set(t.slug,s),n&&(n.next=s),n=s})});const d=e=>({name:e.name,type:e.type,source:e.source});function p(){r.update({components:a.app_a.map(d)})}function u(){r.update({components:a.app_b.map(d)})}let m=!1;let g,v,$;return e.$set=e=>{"slug"in e&&s("slug",l=e.slug),"chapter"in e&&s("chapter",a=e.chapter)},e.$$.update=(e={scrollable:1,chapter:1,slug:1,selected:1,repl:1,width:1})=>{(e.scrollable||e.chapter)&&o&&o.scrollTo(0,0),e.slug&&s("selected",g=i.get(l)),e.selected&&s("improve_link",v=`${Z}/${g.chapter.section_dir}/${g.chapter.chapter_dir}`),(e.repl||e.chapter)&&r&&(s("completed",m=!1),r.set({components:a.app_a.map(d)})),e.width&&s("mobile",$=h<768)},{slug:l,chapter:a,sections:c,repl:r,scrollable:o,width:h,offset:f,reset:p,complete:u,completed:m,handle_change:function(e){s("completed",m=e.detail.components.every((e,t)=>{const s=a.app_b[t];return s&&e.name===s.name&&e.type===s.type&&e.source.trim().replace(/\s+$/gm,"")===s.source.trim().replace(/\s+$/gm,"")}))},selected:g,improve_link:v,mobile:$,onwindowresize:function(){h=J.innerWidth,s("width",h)},click_handler:()=>m?p():u(),div3_binding:function(e){D[e?"unshift":"push"](()=>{s("scrollable",o=e)})},repl_1_binding:function(e){D[e?"unshift":"push"](()=>{s("repl",r=e)})},screentoggle_offset_binding:function(e){s("offset",f=e)}}}export default class extends e{constructor(e){super(),t(this,e,ee,X,s,["slug","chapter"])}}export{Y as preload};
