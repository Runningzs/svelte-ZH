import{S as e,i as t,s,m as l,t as n,p as i,q as r,e as o,j as a,c,a as d,d as p,l as m,b as u,L as h,R as v,g as f,h as b,U as g,u as $,v as k,o as _,Q as x,a0 as j,a1 as w}from"./index.502c1ca4.js";import{R as U}from"./Repl.50b672fa.js";import{p as y}from"./examples.cd1fcc82.js";import{I}from"./InputOutputToggle.88fb3254.js";function R(e){var t,s;function o(s){e.inputoutputtoggle_checked_binding.call(null,s),t=!0,w(()=>t=!1)}let a={};void 0!==e.checked&&(a.checked=e.checked);var c=new I({props:a});return x.push(()=>j(c,"checked",o)),{c(){c.$$.fragment.c()},l(e){c.$$.fragment.l(e)},m(e,t){l(c,e,t),s=!0},p(e,s){var l={};!t&&e.checked&&(l.checked=s.checked),c.$set(l)},i(e){s||(n(c.$$.fragment,e),s=!0)},o(e){i(c.$$.fragment,e),s=!1},d(e){r(c,e)}}}function z(e){var t,s,_,x,j,w=function(e){var t;let s={workersUrl:"workers",fixed:e.mobile,svelteUrl:e.svelteUrl,rollupUrl:e.rollupUrl,embedded:!0,relaxed:!0};var o=new U({props:s});return e.repl_1_binding(o),{c(){o.$$.fragment.c()},l(e){o.$$.fragment.l(e)},m(e,s){l(o,e,s),t=!0},p(e,t){var s={};e.mobile&&(s.fixed=t.mobile),e.svelteUrl&&(s.svelteUrl=t.svelteUrl),o.$set(s)},i(e){t||(n(o.$$.fragment,e),t=!0)},o(e){i(o.$$.fragment,e),t=!1},d(t){e.repl_1_binding(null),r(o,t)}}}(e),y=e.mobile&&R(e);return{c(){t=o("div"),s=o("div"),w&&w.c(),_=a(),y&&y.c(),this.h()},l(e){t=c(e,"DIV",{class:!0},!1);var l=d(t);s=c(l,"DIV",{class:!0},!1);var n=d(s);w&&w.l(n),n.forEach(p),_=m(l),y&&y.l(l),l.forEach(p),this.h()},h(){u(s,"class","viewport svelte-614v39"),h(s,"offset",e.checked),v(()=>e.div1_resize_handler.call(t)),u(t,"class","repl-outer svelte-614v39"),h(t,"mobile",e.mobile)},m(l,n){f(l,t,n),b(t,s),w&&w.m(s,null),b(t,_),y&&y.m(t,null),x=g(t,e.div1_resize_handler.bind(t)),j=!0},p(e,l){w.p(e,l),e.checked&&h(s,"offset",l.checked),l.mobile?y?(y.p(e,l),n(y,1)):((y=R(l)).c(),n(y,1),y.m(t,null)):y&&($(),i(y,1,1,()=>{y=null}),k()),e.mobile&&h(t,"mobile",l.mobile)},i(e){j||(n(w),n(y),j=!0)},o(e){i(w),i(y),j=!1},d(e){e&&p(t),w&&w.d(),y&&y.d(),x.cancel()}}}function E(e,t,s){let l,{version:n="3",gist:i=null,example:r=null,embedded:o=!1}=t,a="loading...",c=window.innerWidth-32,d=!1;_(()=>{"local"!==n&&fetch(`https://unpkg.com/svelte@${n}/package.json`).then(e=>e.json()).then(e=>{s("version",n=e.version)}),i?fetch(`repl/${i}.json`).then(e=>e.json()).then(e=>{const{description:t,files:n}=e;s("name",a=t);const i=Object.keys(n).map(e=>{const t=e.lastIndexOf(".");if(!~t)return;const s=n[e].content;return{name:e.slice(0,t),type:e.slice(t+1),source:s}}).filter(e=>"svelte"===e.type||"js"===e.type).sort((e,t)=>"App"===e.name&&"svelte"===e.type?-1:"App"===t.name&&"svelte"===t.type?1:e.type!==t.type?"svelte"===e.type?-1:1:e.name<t.name?-1:1);l.set({components:i})}):r&&fetch(`examples/${r}.json`).then(async e=>{if(e.ok){const t=await e.json();l.set({components:y(t.files)})}})});let p,m;return e.$set=e=>{"version"in e&&s("version",n=e.version),"gist"in e&&s("gist",i=e.gist),"example"in e&&s("example",r=e.example),"embedded"in e&&s("embedded",o=e.embedded)},e.$$.update=(e={embedded:1,name:1,version:1,width:1})=>{(e.embedded||e.name)&&o&&(document.title=`${a} â€¢ Svelte REPL`),e.version&&s("svelteUrl",p="local"===n?`${location.origin}/repl/local`:`https://unpkg.com/svelte@${n}`),e.width&&s("mobile",m=c<560)},{version:n,gist:i,example:r,embedded:o,repl:l,width:c,checked:d,rollupUrl:"https://unpkg.com/rollup@1/dist/rollup.browser.js",svelteUrl:p,mobile:m,repl_1_binding:function(e){x[e?"unshift":"push"](()=>{s("repl",l=e)})},inputoutputtoggle_checked_binding:function(e){s("checked",d=e)},div1_resize_handler:function(){c=this.clientWidth,s("width",c)}}}class O extends e{constructor(e){super(),t(this,e,E,z,s,["version","gist","example","embedded"])}}export{O as R};
