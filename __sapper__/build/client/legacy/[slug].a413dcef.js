import"./typeof.15db5c64.js";import"./_commonjsHelpers.7baa5521.js";import{_ as t,a}from"./asyncToGenerator.66a36f43.js";import{_ as e,a as s,b as o,c as n,i as r,s as c,d as i,S as p,e as m,o as d,F as h,f as u,g as l,h as f,q as v,G as E,j as b,O as j,m as x,l as y,H as T,n as g}from"./index.a0792a5e.js";function w(t){var a,e,s,o,n,r,c,i,p,w,A,k,M,H,L,R,S,_,G,I,P,U,q,C,D,F=t.post.metadata.title+"",N=t.post.metadata.description+"",O=t.post.metadata.author+"",$=t.post.metadata.dateString+"",z=t.post.html+"";return document.title=a=t.post.metadata.title,{c:function(){e=m("meta"),o=m("meta"),r=m("meta"),i=d(),p=m("article"),w=m("h1"),A=h(F),k=d(),M=m("p"),H=h(N),L=d(),R=m("p"),S=m("a"),_=h(O),I=d(),P=m("time"),U=h($),C=d(),this.h()},l:function(t){e=u(t,"META",{name:!0,content:!0},!1),l(e).forEach(f),o=u(t,"META",{name:!0,content:!0},!1),l(o).forEach(f),r=u(t,"META",{name:!0,content:!0},!1),l(r).forEach(f),i=v(t),p=u(t,"ARTICLE",{class:!0},!1);var a=l(p);w=u(a,"H1",{class:!0},!1);var s=l(w);A=E(s,F),s.forEach(f),k=v(a),M=u(a,"P",{class:!0},!1);var n=l(M);H=E(n,N),n.forEach(f),L=v(a),R=u(a,"P",{class:!0},!1);var c=l(R);S=u(c,"A",{href:!0,class:!0},!1);var m=l(S);_=E(m,O),m.forEach(f),I=v(c),P=u(c,"TIME",{datetime:!0},!1);var d=l(P);U=E(d,$),d.forEach(f),c.forEach(f),C=v(a),a.forEach(f),this.h()},h:function(){b(e,"name","twitter:title"),b(e,"content",s=t.post.metadata.title),b(o,"name","twitter:description"),b(o,"content",n=t.post.metadata.description),b(r,"name","Description"),b(r,"content",c=t.post.metadata.description),b(w,"class","svelte-ih1crn"),b(M,"class","standfirst svelte-ih1crn"),b(S,"href",G=t.post.metadata.authorURL),b(S,"class","svelte-ih1crn"),b(P,"datetime",q=t.post.metadata.pubdate),b(R,"class","byline svelte-ih1crn"),D=new j(z,null),b(p,"class","post listify svelte-ih1crn")},m:function(t,a){x(document.head,e),x(document.head,o),x(document.head,r),y(t,i,a),y(t,p,a),x(p,w),x(w,A),x(p,k),x(p,M),x(M,H),x(p,L),x(p,R),x(R,S),x(S,_),x(R,I),x(R,P),x(P,U),x(p,C),D.m(p)},p:function(t,i){t.post&&a!==(a=i.post.metadata.title)&&(document.title=a),t.post&&s!==(s=i.post.metadata.title)&&b(e,"content",s),t.post&&n!==(n=i.post.metadata.description)&&b(o,"content",n),t.post&&c!==(c=i.post.metadata.description)&&b(r,"content",c),t.post&&F!==(F=i.post.metadata.title+"")&&T(A,F),t.post&&N!==(N=i.post.metadata.description+"")&&T(H,N),t.post&&O!==(O=i.post.metadata.author+"")&&T(_,O),t.post&&G!==(G=i.post.metadata.authorURL)&&b(S,"href",G),t.post&&$!==($=i.post.metadata.dateString+"")&&T(U,$),t.post&&q!==(q=i.post.metadata.pubdate)&&b(P,"datetime",q),t.post&&z!==(z=i.post.html+"")&&D.p(z)},i:g,o:g,d:function(t){f(e),f(o),f(r),t&&(f(i),f(p))}}}function A(t){return k.apply(this,arguments)}function k(){return(k=t(a.mark(function t(e){var s,o;return a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return s=e.params,t.next=3,this.fetch("blog/".concat(s.slug,".json"));case 3:if(!(o=t.sent).ok){t.next=11;break}return t.next=7,o.json();case 7:t.t1=t.sent,t.t0={post:t.t1},t.next=12;break;case 11:t.t0=this.error(404,"Not found");case 12:return t.abrupt("return",t.t0);case 13:case"end":return t.stop()}},t,this)}))).apply(this,arguments)}function M(t,a,e){var s=a.post;return t.$set=function(t){"post"in t&&e("post",s=t.post)},{post:s}}var H=function(t){function a(t){var e;return s(this,a),e=o(this,n(a).call(this)),r(i(e),t,M,w,c,["post"]),e}return e(a,p),a}();export default H;export{A as preload};
